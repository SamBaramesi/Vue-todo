(function(){"use strict";var t={9697:function(t,o,e){var n=e(9242),s=e(3396);const a={class:"app"};function r(t,o,e,n,r,d){const l=(0,s.up)("GreetingSection"),i=(0,s.up)("AddTodo"),c=(0,s.up)("TodoList");return(0,s.wg)(),(0,s.iD)("main",a,[(0,s.Wm)(l),(0,s.Wm)(i,{onPassData:d.getDataFromAddTodo},null,8,["onPassData"]),(0,s.Wm)(c,{onGetPassedTodo:d.deletePassedTodo,todos_asc:d.todos_asc},null,8,["onGetPassedTodo","todos_asc"])])}e(7658);var d=e(4161);const l={class:"greeting"},i={class:"title"};function c(t,o,e,a,r,d){return(0,s.wg)(),(0,s.iD)("section",l,[(0,s._)("h2",i,[(0,s.Uk)("What's up, "),(0,s.wy)((0,s._)("input",{type:"text",id:"name",placeholder:"Name here","onUpdate:modelValue":o[0]||(o[0]=t=>r.name=t)},null,512),[[n.nr,r.name]])])])}var u={name:"GreetingSection",data(){return{name:""}}},p=e(89);const m=(0,p.Z)(u,[["render",c]]);var h=m;const _={class:"create-todo"},f=(0,s._)("h4",null,"What's on your todo list?",-1),g=(0,s._)("h4",null,"Pick a category",-1),y={class:"options"},T=(0,s._)("span",{class:"bubble business"},null,-1),v=(0,s._)("div",null,"Business",-1),b=(0,s._)("span",{class:"bubble personal"},null,-1),w=(0,s._)("div",null,"Personal",-1),D=(0,s._)("input",{type:"submit",value:"Add todo"},null,-1);function I(t,o,e,a,r,d){return(0,s.wg)(),(0,s.iD)("section",_,[(0,s._)("form",{id:"new-todo-form",onSubmit:o[3]||(o[3]=(0,n.iM)(((...t)=>d.passData&&d.passData(...t)),["prevent"]))},[f,(0,s.wy)((0,s._)("input",{type:"text",name:"content",id:"content",placeholder:"e.g. make a video","onUpdate:modelValue":o[0]||(o[0]=t=>r.input_content=t)},null,512),[[n.nr,r.input_content]]),g,(0,s._)("div",y,[(0,s._)("label",null,[(0,s.wy)((0,s._)("input",{type:"radio",name:"category",id:"category1",value:"business","onUpdate:modelValue":o[1]||(o[1]=t=>r.input_category=t)},null,512),[[n.G2,r.input_category]]),T,v]),(0,s._)("label",null,[(0,s.wy)((0,s._)("input",{type:"radio",name:"category",id:"category2",value:"personal","onUpdate:modelValue":o[2]||(o[2]=t=>r.input_category=t)},null,512),[[n.G2,r.input_category]]),b,w])]),D],32)])}var P={name:"AddTodo",data(){return{input_content:"",input_category:null}},methods:{passData(){const t={content:this.input_content,category:this.input_category};this.$emit("passData",t),this.input_content=""}}};const A=(0,p.Z)(P,[["render",I]]);var k=A,O=e(7139);const x={class:"todo-list"},C={class:"list",id:"todo-list"};function Z(t,o,e,n,a,r){const d=(0,s.up)("TodoItem");return(0,s.wg)(),(0,s.iD)("section",x,[(0,s._)("div",C,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.todos_asc,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t._id,class:(0,O.C_)(`todo-item ${t.done&&"done"}`)},[(0,s.Wm)(d,{onPassTodo:r.getPassedTodo,todoItem:t},null,8,["onPassTodo","todoItem"])],2)))),128))])])}const $={class:"todo-content"},j={class:"actions"};function G(t,o,e,a,r,d){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("label",null,[(0,s.wy)((0,s._)("input",{type:"checkbox","onUpdate:modelValue":o[0]||(o[0]=t=>r.localTodoItem.done=t)},null,512),[[n.e8,r.localTodoItem.done]]),(0,s._)("span",{class:(0,O.C_)("bubble "+("business"==r.localTodoItem.category?"business":"personal"))},null,2)]),(0,s._)("div",$,[(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":o[1]||(o[1]=t=>r.localTodoItem.content=t)},null,512),[[n.nr,r.localTodoItem.content]])]),(0,s._)("div",j,[(0,s._)("button",{class:"delete",onClick:o[2]||(o[2]=t=>d.passTodo(r.localTodoItem))},"Delete")])],64)}var U={name:"TodoItem",props:["todoItem"],data(){return{localTodoItem:this.todoItem}},watch:{localTodoItem:{deep:!0,handler(t){this.updateDatabase(t)}}},methods:{updateDatabase(t){d.Z.put(`http://localhost:8000/update-todo/${t._id}`,{content:t.content,done:t.done}).then((t=>{console.log("Todo updated successfully:",t.data)})).catch((t=>{console.error("Failed to update todo:",t.response.data.error)}))},passTodo(){this.$emit("passTodo",this.localTodoItem)}},emits:["passTodo"]};const V=(0,p.Z)(U,[["render",G]]);var W=V,F={name:"TodoList",data(){return{}},components:{TodoItem:W},props:{todos_asc:{type:Array}},methods:{getPassedTodo(t){this.$emit("getPassedTodo",t)}}};const S=(0,p.Z)(F,[["render",Z]]);var L=S,H=e(4870),M={name:"App",components:{GreetingSection:h,AddTodo:k,TodoList:L},data(){return{todos:(0,H.qj)([])}},methods:{async getDataFromAddTodo(t){if(""!==t.content&&null!==t.category)try{const o=await d.Z.post("http://localhost:8000/todo",{content:t.content,category:t.category,done:!1,editable:!1}),e=o.data;this.todos.push(e)}catch(o){console.error(o)}},deletePassedTodo(t){console.log(`this is the ${t._id} ${t.content}`),d.Z["delete"](`http://localhost:8000/del-todos/${t._id}`).then((o=>{if(200===o.status){const o=this.todos.findIndex((o=>o._id===t._id));this.todos.splice(o,1)}})).catch((t=>{console.error(t)}))},getCreatedAtTimestamp(t){const o=1e3*parseInt(t.substring(0,8),16);return o}},async mounted(){try{const t=await d.Z.get("http://localhost:8000/get-todos");if(404!==t.status&&500!==t.status){const o=t.data;this.todos=o,console.log("Todos loaded successfully")}}catch(t){t.response?console.error(t.response.data.error):console.error(t.message)}},computed:{todos_asc(){const t=this.todos.filter((t=>!t.done)),o=this.todos.filter((t=>t.done));return t.sort(((t,o)=>this.getCreatedAtTimestamp(o._id)-this.getCreatedAtTimestamp(t._id))),o.sort(((t,o)=>this.getCreatedAtTimestamp(o._id)-this.getCreatedAtTimestamp(t._id))),[...t,...o]}}};const Y=(0,p.Z)(M,[["render",r]]);var q=Y;(0,n.ri)(q).mount("#app")}},o={};function e(n){var s=o[n];if(void 0!==s)return s.exports;var a=o[n]={exports:{}};return t[n].call(a.exports,a,a.exports,e),a.exports}e.m=t,function(){var t=[];e.O=function(o,n,s,a){if(!n){var r=1/0;for(c=0;c<t.length;c++){n=t[c][0],s=t[c][1],a=t[c][2];for(var d=!0,l=0;l<n.length;l++)(!1&a||r>=a)&&Object.keys(e.O).every((function(t){return e.O[t](n[l])}))?n.splice(l--,1):(d=!1,a<r&&(r=a));if(d){t.splice(c--,1);var i=s();void 0!==i&&(o=i)}}return o}a=a||0;for(var c=t.length;c>0&&t[c-1][2]>a;c--)t[c]=t[c-1];t[c]=[n,s,a]}}(),function(){e.n=function(t){var o=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(o,{a:o}),o}}(),function(){e.d=function(t,o){for(var n in o)e.o(o,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:o[n]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)}}(),function(){var t={143:0};e.O.j=function(o){return 0===t[o]};var o=function(o,n){var s,a,r=n[0],d=n[1],l=n[2],i=0;if(r.some((function(o){return 0!==t[o]}))){for(s in d)e.o(d,s)&&(e.m[s]=d[s]);if(l)var c=l(e)}for(o&&o(n);i<r.length;i++)a=r[i],e.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return e.O(c)},n=self["webpackChunkhello_world"]=self["webpackChunkhello_world"]||[];n.forEach(o.bind(null,0)),n.push=o.bind(null,n.push.bind(n))}();var n=e.O(void 0,[998],(function(){return e(9697)}));n=e.O(n)})();
//# sourceMappingURL=app.04f86821.js.map